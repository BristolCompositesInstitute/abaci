<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Configuration Reference" href="config.html" /><link rel="prev" title="Reference" href="index.html" />

    <link rel="shortcut icon" href="../_static/abaci.ico"/><meta name="generator" content="sphinx-6.1.3, furo 2022.04.07"/>
        <title>Command Line Interface Reference - Abaci Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=68f4518137b9aefe99b631505a2064c3c42c9852" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Abaci Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/abaci.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Abaci Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart-tutorial.html">Quickstart Tutorial</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../how-to-guides/index.html">How-to guides</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../how-to-guides/install.html">How to Install Abaci</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-to-guides/getting-started-with-abaci.html">Getting Started with Abaci in your Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-to-guides/regression-checks.html">How to Setup Regression Checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-to-guides/post-processing.html">How to Setup Post-Processing Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-to-guides/unit-testing.html">How-to Write Unit Tests with Abaci</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Command Line Interface Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Configuration Reference</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="command-line-interface-reference">
<h1>Command Line Interface Reference<a class="headerlink" href="#command-line-interface-reference" title="Permalink to this heading">#</a></h1>
<section id="command-line-overview">
<h2>Command-Line Overview<a class="headerlink" href="#command-line-overview" title="Permalink to this heading">#</a></h2>
<p>Abaci has a number of <em>subcommands</em> which are invoked at the command line by:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>abaci<span class="w"> </span>&lt;subcommand&gt;
</pre></div>
</div>
<p>More information about each subcommand can be found on this page in the
respective section.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can quickly view help text at the command line for any abaci subcommand
by adding the <code class="docutils literal notranslate"><span class="pre">--help</span></code> argument.</p>
<p><strong>e.g.</strong> <code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">run</span> <span class="pre">--help</span></code></p>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: abaci

Utility for compiling and running abaqus jobs with user subroutines

positional arguments:
  {post,init,submit,run,compile,show}
                        Subcommand to run
    post                Run regression checks and post-processing scripts for
                        a completed job
    init                Initialise a new abaci.toml project file
    submit              Compile user subroutines and submit jobs to cluster
                        (SLURM)
    run                 Compile user subroutines and run an abaqus job
    compile             Compile user subroutines only
    show                Show useful information about this project

optional arguments:
  -h, --help            show this help message and exit
  -V, --version         show abaci version
  --update [[REPO:]GITREF]
                        update abaci from upstream

Run a subcommand with --help to view specific help for that command, for
example: abaci compile --help
</pre></div>
</div>
<section id="top-level-operations">
<h3>Top-level Operations<a class="headerlink" href="#top-level-operations" title="Permalink to this heading">#</a></h3>
<p><strong>Example:</strong> <em>show abaci version and exit</em></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>abaci<span class="w"> </span>--version
</pre></div>
</div>
<p><strong>Example:</strong> <em>show abaci help text and exit</em></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>abaci<span class="w"> </span>--help
</pre></div>
</div>
<p><strong>Example:</strong> <em>update abaci installation from the latest main branch</em></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>abaci<span class="w"> </span>--update
</pre></div>
</div>
<p><strong>Example:</strong> <em>update abaci installation from the latest dev branch</em></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>abaci<span class="w"> </span>--update<span class="w"> </span>dev
</pre></div>
</div>
</section>
<section id="common-flags">
<h3>Common Flags<a class="headerlink" href="#common-flags" title="Permalink to this heading">#</a></h3>
<p>The following flags are available for all subcommands:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--help</span></code> / <code class="docutils literal notranslate"><span class="pre">-h</span></code></strong> - print help for this subcommand</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--verbose</span></code> / <code class="docutils literal notranslate"><span class="pre">-v</span></code></strong> - print more information about what abaci is doing</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--quiet</span></code> / <code class="docutils literal notranslate"><span class="pre">-q</span></code></strong> - suppress all output from abaci</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--config</span></code></strong> - specify a different configuration file to the default</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For most subcommands, abaci will look for a configuration file named <code class="docutils literal notranslate"><span class="pre">abaci.toml</span></code>
in the current directory. Use the <code class="docutils literal notranslate"><span class="pre">--config</span></code> flag to specify an alternative
configuration file.</p>
</div>
<p><strong>Example:</strong> <em>use a non-default configuration filename</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci run --config defects-config.toml
</pre></div>
</div>
</section>
</section>
<section id="abaci-init">
<h2><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">init</span></code><a class="headerlink" href="#abaci-init" title="Permalink to this heading">#</a></h2>
<p>Initialise a new project by generating an abaci configuration file in the
current directory.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: abaci init [-h] [-v | -q] [--config CONFIG] [-e] [-f] [-b]
                  [-u CONFIG_USUB_FILE] [-o CONFIG_OUTPUT_PATH]

Initialise a new abaci.toml project file

optional arguments:
  -h, --help            show this help message and exit
  -v, --verbose         output more information from abaci
  -q, --quiet           output less information from abaci
  --config CONFIG       specify a different config file to default
                        ("abaci.toml")
  -e, --extra           output extra config options
  -f, --force           force overwrite of existing config file
  -b, --bare            exclude explanatory comments from config
  -u CONFIG_USUB_FILE, --user CONFIG_USUB_FILE
                        specify the user subroutine file path
  -o CONFIG_OUTPUT_PATH, --output CONFIG_OUTPUT_PATH
                        specify the output directory path
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">init</span></code> will not overwrite an existing configuration file unless the <code class="docutils literal notranslate"><span class="pre">-f</span></code> parameter is given</p>
</div>
<p><strong>Example:</strong> <em>basic initialisation with path to main user subroutine file</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">abaci</span> <span class="n">init</span> <span class="o">-</span><span class="n">u</span> <span class="n">src</span><span class="o">/</span><span class="n">umat</span><span class="o">.</span><span class="n">f</span>
</pre></div>
</div>
<p><strong>Example:</strong> <em>initialise with extra configuration options</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">abaci</span> <span class="n">init</span> <span class="o">--</span><span class="n">extra</span>
  <span class="n">abaci</span> <span class="n">init</span> <span class="o">-</span><span class="n">e</span>
</pre></div>
</div>
<p><strong>Example:</strong> <em>initialise without explanatory comments</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">abaci</span> <span class="n">init</span> <span class="o">--</span><span class="n">bare</span>
  <span class="n">abaci</span> <span class="n">init</span> <span class="o">-</span><span class="n">b</span>
</pre></div>
</div>
<p><strong>Example:</strong> <em>overwrite an existing configuration file</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">abaci</span> <span class="n">init</span> <span class="o">--</span><span class="n">force</span>
  <span class="n">abaci</span> <span class="n">init</span> <span class="o">-</span><span class="n">f</span>
</pre></div>
</div>
<p><strong>Example:</strong> <em>initialise a non-default configuration filename</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">abaci</span> <span class="n">init</span> <span class="o">--</span><span class="n">config</span> <span class="n">test</span><span class="o">-</span><span class="n">config</span><span class="o">.</span><span class="n">toml</span>
</pre></div>
</div>
</section>
<section id="abaci-compile">
<h2><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">compile</span></code><a class="headerlink" href="#abaci-compile" title="Permalink to this heading">#</a></h2>
<p>Compiles main user subroutine and any auxiliary source files.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: abaci compile [-h] [-v | -q] [--config CONFIG] [-t] [-d] [-c] [-0] [-g]
                     [-s]

Compile user subroutines and exit

optional arguments:
  -h, --help       show this help message and exit
  -v, --verbose    output more information from abaci
  -q, --quiet      output less information from abaci
  --config CONFIG  specify a different config file to default ("abaci.toml")
  -t, --codecov    compile subroutines for code coverage analysis
  -d, --debug      enable run-time debugging checks
  -c, --check      enable strict compile-time checks
  -0, --noopt      compile without any optimisations
  -g, --gcc        use gnu compilers for auxillary source files
  -s, --screen     echo Abaqus output to the screen while running
</pre></div>
</div>
<ul class="simple">
<li><p>Compiler output files are placed in <code class="docutils literal notranslate"><span class="pre">&lt;output&gt;/lib</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;output&gt;</span></code> is the
output directory specified in the configuration file.</p></li>
<li><p>Abaci will always request a compiler optimisation report from the Intel Compiler;
this is stored in <code class="docutils literal notranslate"><span class="pre">&lt;output&gt;/lib/optrpt</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, abaci will not display compiler output unless there is an error during compilation or linking. You can force the display of compiler output by adding the
<code class="docutils literal notranslate"><span class="pre">-s</span></code> argument.</p>
</div>
<p><strong>Example:</strong> <em>Basic compilation check</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci compile
</pre></div>
</div>
<p><strong>Example:</strong> <em>Strict compilation checks and show output</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci compile --check --screen
  abaci compile -cs
</pre></div>
</div>
<p><strong>Example:</strong> <em>Use <code class="docutils literal notranslate"><span class="pre">gcc</span></code> for any auxiliary C/C++ sources</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci compile --gcc
  abaci compile -g
</pre></div>
</div>
</section>
<section id="abaci-run">
<h2><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">run</span></code><a class="headerlink" href="#abaci-run" title="Permalink to this heading">#</a></h2>
<p>Compiles user subroutine sources and then run one or Abaqus job files.</p>
<p>Compiler-related options behave the same as with <a class="reference internal" href="#abaci-compile"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">compile</span></code></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: abaci run [-h] [-v | -q] [--config CONFIG] [-t] [-d] [-c] [-0] [-g]
                 [-s] [-b] [-n NPROC] [-j [NJOB]]
                 [job-spec]

Compile user subroutines and run one or abaqus jobs as described by job-spec

positional arguments:
  job-spec              Either: a comma-separated list of job tags or jobs
                        names to filter jobs specified in the manifest; OR a
                        path to an abaqus job file to run.

optional arguments:
  -h, --help            show this help message and exit
  -v, --verbose         output more information from abaci
  -q, --quiet           output less information from abaci
  --config CONFIG       specify a different config file to default
                        ("abaci.toml")
  -t, --codecov         compile subroutines for code coverage analysis
  -d, --debug           enable run-time debugging checks
  -c, --check           enable strict compile-time checks
  -0, --noopt           compile without any optimisations
  -g, --gcc             use gnu compilers for auxillary source files
  -s, --screen          echo Abaqus output to the screen while running
  -b, --background      run abaci in the background after compilation
  -n NPROC, --nproc NPROC
                        specify number of threads/processes to run with Abaqus
  -j [NJOB], --jobs [NJOB]
                        run jobs concurrently, optionally specify a maximum
                        number of concurrently running jobs
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">job-spec</span></code> parameter is either:</p>
<ul class="simple">
<li><p>a path to an Abaqus job <code class="docutils literal notranslate"><span class="pre">.inp</span></code> file</p></li>
<li><p>the name of a job specified in the configuration file</p></li>
<li><p>a tag for one or more jobs specified in the configuration file</p></li>
<li><p>a comma-separated list of job names/tags specified in the configuration file</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">job-spec</span></code> is omitted, then it is assumed to be <code class="docutils literal notranslate"><span class="pre">'default'</span></code> which will
run any jobs in the configuration file named <code class="docutils literal notranslate"><span class="pre">'default'</span></code> or with the <code class="docutils literal notranslate"><span class="pre">'default'</span></code> tag.</p>
</div>
<p>Abaqus job files are placed in a folder called <code class="docutils literal notranslate"><span class="pre">&lt;output&gt;/&lt;name&gt;_&lt;n&gt;</span></code> where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;output&gt;</span></code> is the output directory specified in the configuration file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is the name of the job</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code> is an integer that is incremented to avoid overwriting existing job files</p></li>
</ul>
<p><strong>Example:</strong> <em>run all jobs with the ‘default’ tag sequentially in debug mode</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci run --debug
  abaci run -d
</pre></div>
</div>
<p><strong>Example:</strong> <em>run a specific job file and print Abaqus output</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci run jobs/test-job.inp --screen
  abaci run jobs/test-job.inp -s
</pre></div>
</div>
<p><strong>Example:</strong> <em>run a job by name specified in the config file with 4 processors</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci run test-job-1 --nproc 4
  abaci run test-job-1 -n 4
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default multiprocessing mode is <code class="docutils literal notranslate"><span class="pre">threads</span></code>. To use MPI for a job,
you should specify the <code class="docutils literal notranslate"><span class="pre">mp-mode</span></code> field for the job in the configuration file.</p>
</div>
<p><strong>Example:</strong> <em>run all jobs with the ‘test’ tag concurrently</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci run test -j
</pre></div>
</div>
<p><strong>Example:</strong> <em>run all jobs with the ‘long’ tag in the background</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci run long --background
  abaci run long -b
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Background mode (<code class="docutils literal notranslate"><span class="pre">--background</span></code>/<code class="docutils literal notranslate"><span class="pre">-b</span></code>) is not currently supported on Windows.</p>
</div>
</section>
<section id="abaci-submit">
<h2><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">submit</span></code><a class="headerlink" href="#abaci-submit" title="Permalink to this heading">#</a></h2>
<p>Compiles user subroutine sources, prepare a SLURM job-script and optionally submit
to SLURM with <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>.</p>
<p>Compiler-related options behave the same as with <a class="reference internal" href="#abaci-compile"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">compile</span></code></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">job-spec</span></code> parameter is interpreted in the same way as for <a class="reference internal" href="#abaci-run"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">run</span></code></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: abaci submit [-h] [-v | -q] [--config CONFIG] [-t] [-d] [-c] [-0] [-g]
                    [-s] [-i] [-n]
                    [job-spec]

Compile user subroutines and submit jobs to cluster (SLURM)

positional arguments:
  job-spec           Either: a comma-separated list of job tags or jobs names
                     to filter jobs specified in the manifest; OR a path to an
                     abaqus job file to run.

optional arguments:
  -h, --help         show this help message and exit
  -v, --verbose      output more information from abaci
  -q, --quiet        output less information from abaci
  --config CONFIG    specify a different config file to default ("abaci.toml")
  -t, --codecov      compile subroutines for code coverage analysis
  -d, --debug        enable run-time debugging checks
  -c, --check        enable strict compile-time checks
  -0, --noopt        compile without any optimisations
  -g, --gcc          use gnu compilers for auxillary source files
  -s, --screen       echo Abaqus output to the screen while running
  -i, --interactive  interactively override job setting defaults before
                     submitting
  -n, --no-submit    prepare job files, but don't submit the batch job
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Cluster settings (nodes, cores, memory) for jobs are specified in the configuration file.
Alternatively, you can use the <code class="docutils literal notranslate"><span class="pre">--interactive</span></code> flag to specify them at the command line.</p>
</div>
<p><strong>Example:</strong> <em>submit a job named ‘big-job’ using cluster settings in the configuration file</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci submit big-job
</pre></div>
</div>
<p><strong>Example:</strong> <em>submit a job named ‘big-job’ and override cluster settings at the command line</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci submit big-job --interactive
  abaci submit big-job -i
</pre></div>
</div>
<p><strong>Example:</strong> <em>prepare job files and SLURM submission script, but don’t submit to the cluster</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci submit big-job --no-submit
  abaci submit big-job -n
</pre></div>
</div>
</section>
<section id="abaci-post">
<h2><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">post</span></code><a class="headerlink" href="#abaci-post" title="Permalink to this heading">#</a></h2>
<p>Run or rerun regression checks and post-processing commands for a completed job.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: abaci post [-h] [-v | -q] [--config CONFIG] job-dir

Run regression checks and post-processing scripts for a completed job

positional arguments:
  job-dir          Path to job output directory

optional arguments:
  -h, --help       show this help message and exit
  -v, --verbose    output more information from abaci
  -q, --quiet      output less information from abaci
  --config CONFIG  specify a different config file to default ("abaci.toml")
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">post</span></code> command does not read from the configuration file - it uses information
that is cached in the job directory. This means that changes to the configuration file
will not affect the behaviour of <code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">post</span></code>.</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The <code class="docutils literal notranslate"><span class="pre">job-dir</span></code> must have been produced by an previous invocation of abaci;
abaci lacks the information required to post-process jobs not run via abaci.</p>
</div>
</section>
<section id="abaci-test">
<h2><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">test</span></code><a class="headerlink" href="#abaci-test" title="Permalink to this heading">#</a></h2>
<p>Compile and run unit tests.</p>
<p>Compiler-related options behave the same as with <a class="reference internal" href="#abaci-compile"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">compile</span></code></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: abaci test [-h] [-v | -q] [--config CONFIG] [-t] [-d] [-c] [-0] [-g]
                  [-s]

Compile user subroutines only and run unit tests

optional arguments:
  -h, --help       show this help message and exit
  -v, --verbose    output more information from abaci
  -q, --quiet      output less information from abaci
  --config CONFIG  specify a different config file to default ("abaci.toml")
  -t, --codecov    compile subroutines for code coverage analysis
  -d, --debug      enable run-time debugging checks
  -c, --check      enable strict compile-time checks
  -0, --noopt      compile without any optimisations
  -g, --gcc        use gnu compilers for auxillary source files
  -s, --screen     echo Abaqus output to the screen while running
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See the <a class="reference internal" href="../how-to-guides/unit-testing.html"><span class="std std-doc">unit tests guide</span></a> for how to
structure and write unit tests for your Abaqus user subroutine.</p>
</div>
<p><strong>Example:</strong> <em>compile and run unit tests</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci test
</pre></div>
</div>
<p><strong>Example:</strong> <em>compile and run unit tests in debug mode</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> abaci test --debug
 abaci test -d
</pre></div>
</div>
<p><strong>Example:</strong> <em>compile and run unit tests with code coverage checking</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> abaci test --codecov
 abaci test -t
</pre></div>
</div>
</section>
<section id="abaci-show">
<h2><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">show</span></code><a class="headerlink" href="#abaci-show" title="Permalink to this heading">#</a></h2>
<p>Show useful information about the current project.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: abaci show [-h] [-v | -q] [--config CONFIG] [object [object ...]]

Show useful information about this project

positional arguments:
  object           {config|jobs|dependencies|sources|tests}

optional arguments:
  -h, --help       show this help message and exit
  -v, --verbose    output more information from abaci
  -q, --quiet      output less information from abaci
  --config CONFIG  specify a different config file to default ("abaci.toml")
</pre></div>
</div>
<p><strong>Example:</strong> <em>show the internal representation of the configuration</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   abaci show config
</pre></div>
</div>
<p><strong>Example:</strong> <em>show a list jobs specified in the configuration file</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci show jobs
</pre></div>
</div>
<p><strong>Example:</strong> <em>show a list of source files</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci show sources
</pre></div>
</div>
<p><strong>Example:</strong> <em>show a list of unit tests detected by abaci</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci show tests
</pre></div>
</div>
<p><strong>Example:</strong> <em>show a list of third-party dependencies</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  abaci show dependencies
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="config.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Configuration Reference</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Reference</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; University of Bristol 2022
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Command Line Interface Reference</a><ul>
<li><a class="reference internal" href="#command-line-overview">Command-Line Overview</a><ul>
<li><a class="reference internal" href="#top-level-operations">Top-level Operations</a></li>
<li><a class="reference internal" href="#common-flags">Common Flags</a></li>
</ul>
</li>
<li><a class="reference internal" href="#abaci-init"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">init</span></code></a></li>
<li><a class="reference internal" href="#abaci-compile"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">compile</span></code></a></li>
<li><a class="reference internal" href="#abaci-run"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">run</span></code></a></li>
<li><a class="reference internal" href="#abaci-submit"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">submit</span></code></a></li>
<li><a class="reference internal" href="#abaci-post"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">post</span></code></a></li>
<li><a class="reference internal" href="#abaci-test"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">test</span></code></a></li>
<li><a class="reference internal" href="#abaci-show"><code class="docutils literal notranslate"><span class="pre">abaci</span> <span class="pre">show</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-TFZ8YW7MNE"></script>
    <script src="../_static/ga-init.js"></script>
    </body>
</html>